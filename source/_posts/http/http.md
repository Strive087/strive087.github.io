---
layout: post
title: http请求
date: 2020-08-25 20:09:49
tags: [http]
categories: [http]
---

ping
ttl 默认为 64，每次经过经过一个设备 ttl 减一，当 ttl 为 0 时包会被丢弃
浏览器访问页面流程
解析域名
浏览器发送 http 请求
服务器处理请求
服务器返回 html 响应
浏览器处理 html 页面

一次 http 操作为称为一个事务

http 请求：get、post、head、put、delete、connect、option

http 状态码：
1xx：指示信息 -- 表示请求已经接受，继续处理

2xx：成功 -- 请求已被成功接收

3xx：重定向 -- 要完成请求必须进行更一步操作
301：资源被永久移动了
302：资源被临时移动了
304：本地重定向
305：资源直接请求不到，要通过代理
307：临时重定向

4xx：客户端错误 -- 请求有语法错误或请求无法实现
400：请求语法错误
402：请求需要验证
403：拒绝执行
404：资源没找到，资源根本不存在
406：无法完成请求
408：请求时间过长
409：请求方法和无服务器要求的方法冲突
410：资源不存在了，原来有后来没了，维护人员应该设置 301 跳转
413：发送的数据太大，服务器拒绝执行
422：请求的数据是错误的数据

5xx：服务器端错误 -- 服务器未能实现合法的请求
500：服务器奔溃

http 请求头

cookies
存在于客户端的一小段文本，随客户端点每一个请求发送该 url 下的所有 cookies 到服务器端。既可以在服务端也可以在客户端产生
cookie：客户端将服务器设置的 cookie 返回服务器
setCookie：服务端向客户端设置 cookie

seesion
存在于服务端，服务端用 seesionid 区分会话，服务器会将 seesionid 通过 setCookie 存在客户端。

http 缓存机制（浏览器的缓存）
缓存会根据请求保存输出内容的副本，如果是同一 url，缓存直接使用副本响应访问请求，而不是向源服务器再次发送请求。

缓存协商策略（服务器决定策略）
Etag：文件的 md5 指纹（哈希值）
Last-Modified：文件的时间戳
强制缓存：不向服务器发送请求，直接拿缓存资源（资源有时间戳和强制缓存标志 Expires）
每次访问后服务端会重新给个新的 md5 指纹或时间戳

密码学
散列是一种数据一旦转化成其他形式将永远无法恢复的加密技术
对称加密：加密和解密手段相同，手段泄露后不安全
费对称加密：
密钥交换算法：

https:
tls 协议包含了握手协议、密钥配置切换协议、应用数据协议和警报协议
